<section id="contact" class="relative py-14 md:py-24">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid md:grid-cols-2 gap-12 items-center">
            <div class="text-left md:w-2/3 m-auto">
                <i
                    class="ri-mail-send-line hidden font-thin text-8xl text-color-secondary opacity-30 absolute left-10 top-60 md:block animate-movingY"></i>
                <i
                    class="ri-customer-service-line hidden font-thin text-6xl text-color-secondary opacity-30 absolute right-10 top-10 md:block animate-movingX"></i>
                <h1 class="font-headline text-3xl text-color-secondary font-bold sm:text-4xl capitalize">
                    Contactez-nous
                </h1>
                <p class="leading-relaxed font-jost pt-5 text-color-primary">
                    Si vous avez des questions, des suggestions ou si vous souhaitez en savoir plus sur notre
                    application, n'hésitez pas à nous contacter. Nous sommes là pour vous aider et nous apprécions vos
                    retours.
                </p>
                <div class="max-sm:mt-0 mt-8 space-y-4">
                    <div class="flex items-center gap-3">
                        <i class="ri-mail-line text-lg text-color-secondary"></i>
                        <a href="mailto:contact@sos-ouvrier.com"
                            class="text-color-secondary">contact&#64;sos-ouvrier.com</a>
                    </div>
                </div>
            </div>
            <!-- Contact form side -->
            <div class="flex flex-col justify-center items-center max-sm:-mt-7 p-5 rounded-lg shadow-lg">
                <!-- <h2 class="font-headline font-jost text-2xl text-color-primary font-bold mb-5">Formulaire de contact</h2> -->
                <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="w-full space-y-4 relative">
                    <!-- Nom -->
                    <div>
                        <label for="name" class="block text-sm font-medium text-color-primary-dark">Nom</label>
                        <input id="name" type="text" formControlName="name" placeholder="John Doe" [ngClass]="{
                            'border-red-500': submitted && f['name'].invalid,
                            'border-gray-300': !f['name'].invalid}"
                            class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-color-secondary">
                        <div *ngIf="submitted && f['name'].invalid" class="text-sm text-red-500 mt-1">Veuillez saisir un
                            nom valide.</div>
                    </div>

                    <!-- Email -->
                    <div>
                        <label for="email" class="block text-sm font-medium text-color-primary-dark">Email</label>
                        <input id="email" type="email" formControlName="email" placeholder="ton-adresse@email.com"
                            [ngClass]="{
                            'border-red-500': submitted && f['email'].invalid,
                            'border-gray-300': !f['email'].invalid}"
                            class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-color-secondary">
                        <div *ngIf="submitted && f['email'].invalid" class="text-sm text-red-500 mt-1">Veuillez entrer
                            une adresse email valide.</div>
                    </div>

                    <!-- Message -->
                    <div>
                        <label for="message" class="block text-sm font-medium text-color-primary-dark">Message</label>
                        <textarea id="message" rows="4" formControlName="message"
                            placeholder="Votre avis ou question..." [ngClass]="{
                            'border-red-500': submitted && f['message'].invalid,
                            'border-gray-300': !f['message'].invalid}"
                            class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-color-secondary"></textarea>
                        <div *ngIf="submitted && f['message'].invalid" class="text-sm text-red-500 mt-1">Votre message
                            est trop court.</div>
                    </div>

                    <!-- Bouton -->
                    <button type="submit" [disabled]="loading"
                        class="w-full bg-color-secondary text-white py-2 px-4 rounded-md hover:bg-opacity-80 transition duration-200 flex justify-center items-center gap-2">
                        <ng-container *ngIf="!loading; else loadingTpl">
                            Envoyer <i class="ri-send-plane-fill"></i>
                        </ng-container>
                        <ng-template #loadingTpl>
                            <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
                                viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                    stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z">
                                </path>
                            </svg>
                        </ng-template>
                    </button>

                    <!-- Toasts -->
                    <div *ngIf="successMessage"
                        class="mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded animate-fadeIn">
                        {{ successMessage }}
                    </div>
                    <div *ngIf="errorMessage"
                        class="mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded animate-fadeIn">
                        {{ errorMessage }}
                    </div>
                </form>

                <!-- <form class="w-full space-y-4">
                    <div>
                        <label for="name" class="block text-sm font-medium text-color-primary-dark">Nom</label>
                        <input type="text" id="name" name="name" placeholder="John Doe" required
                            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-color-secondary">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-color-primary-dark">Email</label>
                        <input type="email" id="email" name="email" placeholder="ton-adresse@email.com" required
                            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-color-secondary">
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-color-primary-dark">Message</label>
                        <textarea id="message" name="message" rows="4" placeholder="Votre avis ou question..." required
                            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-color-secondary"></textarea>
                    </div>
                    <button type="submit"
                        class="w-full bg-color-secondary text-white py-2 px-4 rounded-md hover:bg-opacity-80 transition duration-200">
                        Envoyer
                        <i class="ri-send-plane-fill"></i>
                    </button>
                </form> -->
                <!-- dot 1 -->
                <div
                    class="hidden w-4 h-4 bg-color-primary-dark rounded-full opacity-90 absolute right-96 bottom-10 md:block animate-scalingUp">
                </div>
            </div>
        </div>
    </div>
</section>